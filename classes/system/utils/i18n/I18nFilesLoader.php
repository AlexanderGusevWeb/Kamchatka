<?php
namespace UmiCms\Classes\System\Utils\I18n;class I18nFilesLoader implements iI18nFilesLoader {private $langConstants = [];private $moduleList;private $langPrefix;public function __construct(array $v20cf12be6809c539cfed17c272627718, $v535d02e594853266d2db02ff178dd7f7) {$this->moduleList = $v20cf12be6809c539cfed17c272627718;$this->langPrefix = $v535d02e594853266d2db02ff178dd7f7;}public function loadLangConstants() {foreach ($this->moduleList as $v52a43e48ec4649dee819dadabcab1bde) {$this->loadModuleLangConstants($v52a43e48ec4649dee819dadabcab1bde);}$this->loadDefaultLangConstants();return $this->langConstants;}private function loadModuleLangConstants($v52a43e48ec4649dee819dadabcab1bde) {$this->loadModuleDefaultLangConstants($v52a43e48ec4649dee819dadabcab1bde);$this->loadModuleLangConstantsWithPrefix($v52a43e48ec4649dee819dadabcab1bde);$this->loadModuleExtensionLangConstants($v52a43e48ec4649dee819dadabcab1bde);}private function loadModuleDefaultLangConstants($v52a43e48ec4649dee819dadabcab1bde) {$vd6fe1d0be6347b8ef2427fa629c04485 = SYS_MODULES_PATH . $v52a43e48ec4649dee819dadabcab1bde . '/lang.php';$this->loadLangConstantsFromFile($vd6fe1d0be6347b8ef2427fa629c04485, $v52a43e48ec4649dee819dadabcab1bde);}private function loadLangConstantsFromFile($vd6fe1d0be6347b8ef2427fa629c04485, $v52a43e48ec4649dee819dadabcab1bde = '') {if (!file_exists($vd6fe1d0be6347b8ef2427fa629c04485)) {return;}$C_LANG = [];$LANG_EXPORT = [];require $vd6fe1d0be6347b8ef2427fa629c04485;if (isset($LANG_EXPORT) && is_array($LANG_EXPORT)) {foreach ($LANG_EXPORT as $v3c6e0b8a9c15224a8228b9a98ca1531d => $v2063c1608d6e0baf80249c42e2be5804) {$this->langConstants[$v3c6e0b8a9c15224a8228b9a98ca1531d] = $v2063c1608d6e0baf80249c42e2be5804;}}if ($v52a43e48ec4649dee819dadabcab1bde === '') {return;}if (isset($C_LANG) && is_array($C_LANG)) {foreach ($C_LANG as $v3c6e0b8a9c15224a8228b9a98ca1531d => $v2063c1608d6e0baf80249c42e2be5804) {$this->langConstants[$v52a43e48ec4649dee819dadabcab1bde][$v3c6e0b8a9c15224a8228b9a98ca1531d] = $v2063c1608d6e0baf80249c42e2be5804;}}}private function loadModuleLangConstantsWithPrefix($v52a43e48ec4649dee819dadabcab1bde) {$vd6fe1d0be6347b8ef2427fa629c04485 = SYS_MODULES_PATH . $v52a43e48ec4649dee819dadabcab1bde . '/lang.' . $this->langPrefix . '.php';$this->loadLangConstantsFromFile($vd6fe1d0be6347b8ef2427fa629c04485, $v52a43e48ec4649dee819dadabcab1bde);}public function loadModuleExtensionLangConstants($v52a43e48ec4649dee819dadabcab1bde) {$v240bf022e685b0ee30ad9fe9e1fb5d5b = SYS_MODULES_PATH . $v52a43e48ec4649dee819dadabcab1bde . '/ext/lang.*.' . $this->langPrefix . '.php';$vf595d4c971339549e44e99ace240cf42 = glob($v240bf022e685b0ee30ad9fe9e1fb5d5b);if (!is_array($vf595d4c971339549e44e99ace240cf42)) {return;}foreach ($vf595d4c971339549e44e99ace240cf42 as $vd6fe1d0be6347b8ef2427fa629c04485) {$this->loadLangConstantsFromFile($vd6fe1d0be6347b8ef2427fa629c04485, $v52a43e48ec4649dee819dadabcab1bde);}}private function loadDefaultLangConstants() {$vd6fe1d0be6347b8ef2427fa629c04485 = SYS_MODULES_PATH . 'lang.' . $this->langPrefix . '.php';if (!file_exists($vd6fe1d0be6347b8ef2427fa629c04485)) {$vd6fe1d0be6347b8ef2427fa629c04485 = SYS_MODULES_PATH . 'lang.php';}$this->loadLangConstantsFromFile($vd6fe1d0be6347b8ef2427fa629c04485);}}